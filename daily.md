### 2025.12.26

1. 在Mixamo网站下载了骑士模型 材质需要选择引入外部材质 否则显示白模 装载Animator组件与创建AnimatorController 挑选一些合适的动作 
2. 下载剑的模型 将其暂时作为右手的子物体，经过测试，大致能满足需求
3. Unity安装InputSystem 的Package 创建InputAction并选择生成脚本 双击InputAction设置一种类似按键映射
4. 编写InputHandler，AnimatorHandler，PlayerLocomotion脚本，实现了角色通过相机与输入计算转动方向，通过方向计算移动速度并移动，通过混合树，通过移动速度判断动画，静止，行走和跑动





### 2025.12.28

1. 传奇bug，卡我24小时
   首先，人物与视角都不能随着翻滚动作向前，问题是动作与模型素材导入问题，首先把动作都设置为人形，然后，只有带有模型的文件设置位CreatAvatar 其他都使用这个Avatar
   上一部分解决之后，随后就是接下来的问题，无论我怎么在 bake to pose ，apply root motion，与动作genitic之间排列组合与OnAnimatorMove函数Update调用排列组后，都没有解决：模型翻滚出去之后，胶囊碰撞体没有跟得上或者不处理时停留在原地，由与父物体的坐标类似于几何中心，这就导致父物体永远处于碰撞体与模型连线的中点上，进而导致通过摄像机与位置计算的相关方法完全失效，角色模型在场地高速漂移
   查阅相关视频发现，OnAnimatorMove没有被回调的原因是，包含这个函数的脚本挂载的物体没有包含Animator组件，而是它的子物体挂载了Animator，这导致Animator组件中apply root motion没有像是相关视频那样由能打对号的方框变成“Handle by Script”，于是我创建了另外一个脚本AnimatorControlerToAnimator同样实现这个函数并挂载在子物体上，解决了问题
   分析：可能是由与Unity版本的不同，我确实遵照了2017年教程视频，但是出现了意外的bug

### 2025.12.29

1. 传奇bug：2017年的教学视频使用了射线检测落地并且通过检测结果判断是否落地成功
   首先出现了人物直接向上飞的bug，因为脚本中直接使用float值对施加力的方向进行判断，导致Player当中的组件参数特别严格，甚至与人物动画有关，如果没有严格按照视频中设置（但也不可能，因为bug写手没有分享素材，参数都是浮点数，也不可能照搬），就会导致穿过地面，在方块内上下抖动，人物直接反向向上飞等bug
   于是，我调整了策略，避免了原来的bool复杂逻辑，只是在空中播放下落动画，落地根据计时播放对应的动画，但这又导致了另外一个bug，游戏的帧数会影响落地时间以及速度，这个bug还没有解决。
2. 武器插槽的实现，攻击动作的实现，动作结束回调的重构，比较简单，会增加if数量，没有太多bug